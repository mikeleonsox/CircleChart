<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Pitcher Workloads</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
      integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css?family=News+Cycle&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script>
    <script src="/src/index.js"></script>
    <link rel="stylesheet" href="/src/styles.css" />
  </head>

  <body onload="setRows()">
    <h1>Circle line</h1>
    <div style="text-align: center;">
    <div style="margin-bottom:20px">
        Large: <input type="text" value=15 id="bigCircleInput" onchange="setLargeCircle()" />
      </div>
      <div style="margin-bottom:10px">
        Small: <input type="text" value=24 id="smallCircleInput" onchange="setSmallCircle()" />
      </div>
      <div style="margin-bottom:10px">
          Color: <input type="text" value='red' id="largeCircleColorInput" onchange="setLargeCircleColor()" />
        </div>
      <div style="margin-bottom:10px">
          Color: <input type="text" value='red' id="smallCircleColorInput" onchange="setSmallCircleColor()" />
        </div>
     
      <div style="text-align: center;">
        <div style="position:relative; top:250px;" id="chart"
      </div>
    </div>
      </div>
  </body>
  <script>
    var chart=  {
          $schema: "https://vega.github.io/schema/vega-lite/v5.json",
          config: {
            view: {
              stroke: "transparent"
            }
          },
          data: {
            values: [
              {
                title: "Satisfaction",
                largeCircle: 15,
                largeCircleColor:'red',
                smallCircle: 24.0,
                smallCircleColor:'green',
                flatLineStart: 2,
                flatLineEnd: 50
              }
            ]
          },
          facet: {
            row: {
              field: "title",
              type: "ordinal",
              header: null
            }
          },
          spacing: 200,
          spec: {
            encoding: {
              x: {
                type: "quantitative",
                axis: null,
                title: null
              }
            },
            layer: [
              {
                mark: "line",
                encoding: {
                  x: {
                    field: "flatLineStart",
                    type: "quantitative",
                    scale: { zero: false }
                  },
                  x2: {
                    field: "flatLineEnd",
                    type: "quantitative"
                  }
                }
              },
              {
                mark: { type: "circle"},
                encoding: { x: { field: "largeCircle" }, size: { value: 900 },
                color: {type: "nominal", field: "largeCircleColor", "scale": null}
               }
              },
              {
                mark: { type: "circle" },
                encoding: { x: { field: "smallCircle", }, size: { value: 400 } ,
                color: {type: "nominal", field: "smallCircleColor", "scale": null}
              
              }
              }
            ]
          }
        };
    var rows = [
      {
        name: "Giolito, Lucas",
        chart:chart
       
         
      }
    ];

    //////////////
    // end data  /
    //////////////
    function setLargeCircle() {
      var largeCircleValue = document.getElementById("largeCircleInput").value;
      rows[0].chart.data.values[0].largeCircle = largeCircleValue;
      setRows();
    }
    function setSmallCircle() {
      var smallCircleValue = document.getElementById("smallCircleInput").value;
      rows[0].chart.data.values[0].smallCircle = smallCircleValue;
      setRows();
    }
    function setLargeCircleColor() {
      var value = document.getElementById("largeCircleColorInput").value;
      rows[0].chart.data.values[0].largeCircleColor = value;
      setRows();
    }
    function setSmallCircleColor() {
      var value = document.getElementById("smallCircleColorInput").value;
      rows[0].chart.data.values[0].smallCircleColor = value;
      setRows();
    }
    
    function setRows() {
      vegaEmbed("#chart", rows[0].chart, { actions: false });
    }
  </script>
</html>
